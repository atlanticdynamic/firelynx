version = "v1"

[[listeners]]
id = "api"
type = "http"
address = "127.0.0.1:{{.Port}}"

[listeners.http]
read_timeout = "30s"
write_timeout = "30s"

[[endpoints]]
id = "api-endpoint"
listener_id = "api"

[[endpoints.routes]]
app_id = "risor-hello"
[endpoints.routes.http]
path_prefix = "/hello"

[[apps]]
id = "risor-hello"
[apps.script]
[apps.script.risor]
code = '''
// Return a map with response data
{
    "status": 200,
    "headers": {"Content-Type": "application/json"},
    "body": json.marshal({"message": "Hello from Risor!", "timestamp": "2025-07-03T01:00:00Z"})
}
'''
timeout = "5s"